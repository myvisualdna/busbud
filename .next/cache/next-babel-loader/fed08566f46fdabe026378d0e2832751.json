{"ast":null,"code":"//We import axios for the data fetch\nimport axios from \"axios\";\nvar token = \"PARTNER_BaASYYHxTxuOINEOMWq5GA\";\nexport default function FetchAction(date) {\n  var request = axios.get(\"https://napi.busbud.com/x-departures/f2m673/f25dvk/\".concat(date), {\n    headers: {\n      Accept: \"application/vnd.busbud+json; version=2; profile=https://schema.busbud.com/v2/\",\n      \"X-Busbud-Token\": \"\".concat(token)\n    }\n  });\n  var requestTwo = axios.get(\"https://napi.busbud.com/x-departures/f2m673/f25dvk/\".concat(date, \"/poll\"), {\n    headers: {\n      Accept: \"application/vnd.busbud+json; version=2; profile=https://schema.busbud.com/v2/\",\n      \"X-Busbud-Token\": \"\".concat(token)\n    }\n  });\n  return function (dispatch) {\n    request.then(function (_ref) {\n      var data = _ref.data;\n      dispatch({\n        type: \"FETCH_ACTION\",\n        payload: data\n      }); //////\n\n      requestTwo.then(function (_ref2) {\n        var data = _ref2.data;\n        dispatch({\n          type: \"FETCH_DEPARTURES\",\n          payload: data\n        });\n      })[\"catch\"](function (error) {\n        console.err(error);\n      });\n    });\n  };\n}\n_c = FetchAction;\n\nvar _c;\n\n$RefreshReg$(_c, \"FetchAction\");","map":{"version":3,"sources":["/Users/andresnieves/Documents/React/busbud/redux/actions/fetchAction.js"],"names":["axios","token","FetchAction","date","request","get","headers","Accept","requestTwo","dispatch","then","data","type","payload","error","console","err"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,IAAMC,KAAK,GAAG,gCAAd;AAGA,eAAe,SAASC,WAAT,CAAqBC,IAArB,EAA2B;AACxC,MAAMC,OAAO,GAAGJ,KAAK,CAACK,GAAN,8DACwCF,IADxC,GAEd;AACEG,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EACJ,+EAFK;AAGP,kCAAqBN,KAArB;AAHO;AADX,GAFc,CAAhB;AAWA,MAAMO,UAAU,GAAGR,KAAK,CAACK,GAAN,8DACqCF,IADrC,YAEjB;AACEG,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EACJ,+EAFK;AAGP,kCAAqBN,KAArB;AAHO;AADX,GAFiB,CAAnB;AAYA,SAAO,UAACQ,QAAD,EAAc;AACnBL,IAAAA,OAAO,CAACM,IAAR,CAAa,gBAAc;AAAA,UAAXC,IAAW,QAAXA,IAAW;AACzBF,MAAAA,QAAQ,CAAC;AAAEG,QAAAA,IAAI,EAAE,cAAR;AAAwBC,QAAAA,OAAO,EAAEF;AAAjC,OAAD,CAAR,CADyB,CAEzB;;AACAH,MAAAA,UAAU,CACPE,IADH,CACQ,iBAAc;AAAA,YAAXC,IAAW,SAAXA,IAAW;AAClBF,QAAAA,QAAQ,CAAC;AAAEG,UAAAA,IAAI,EAAE,kBAAR;AAA4BC,UAAAA,OAAO,EAAEF;AAArC,SAAD,CAAR;AACD,OAHH,WAIS,UAACG,KAAD,EAAW;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OANH;AAOD,KAVD;AAWD,GAZD;AAaD;KArCuBZ,W","sourcesContent":["//We import axios for the data fetch\nimport axios from \"axios\";\n\n\nconst token = \"PARTNER_BaASYYHxTxuOINEOMWq5GA\";\n\n\nexport default function FetchAction(date) {\n  const request = axios.get(\n    `https://napi.busbud.com/x-departures/f2m673/f25dvk/${date}`,\n    {\n      headers: {\n        Accept:\n          \"application/vnd.busbud+json; version=2; profile=https://schema.busbud.com/v2/\",\n        \"X-Busbud-Token\": `${token}`,\n      },\n    }\n  );\n\n  const requestTwo = axios.get(\n    `https://napi.busbud.com/x-departures/f2m673/f25dvk/${date}/poll`,\n    {\n      headers: {\n        Accept:\n          \"application/vnd.busbud+json; version=2; profile=https://schema.busbud.com/v2/\",\n        \"X-Busbud-Token\": `${token}`,\n      },\n    }\n  );\n\n\n  return (dispatch) => {\n    request.then(({ data }) => {\n      dispatch({ type: \"FETCH_ACTION\", payload: data });\n      //////\n      requestTwo\n        .then(({ data }) => {\n          dispatch({ type: \"FETCH_DEPARTURES\", payload: data });\n        })\n        .catch((error) => {\n          console.err(error);\n        });\n    });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}